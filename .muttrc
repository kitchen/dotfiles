# System configuration file for Mutt
# $Id: Muttrc,v 1.6 2003/10/01 00:58:51 william Exp $

# DreamHost specific questions? Email support@dreamhost.com! To set your
# email address, add something like the following in your .muttrc:
set realname="Jeremy Kitchen"
set from="kitchen@scriptkitchen.com"
alternates "jeremy.kitchen@gmail.com" "kitchen@kitchen.io"

# accounts
source $HOME/.mutt/accounts

## change index format
set index_format="%4C %Z %{%b %d} %-18.18F (%4c) %M %s"

##  Headers to view / ignore
## ignore everything not listed
ignore *
unignore        from: date: subject: to: cc: reply-to:
unignore        message-id: mail-followup-to:
unignore        user-agent: x-agent: x-mailer:
## set the order of headers
hdr_order       From: Reply-to: To: Cc: Mail-Followup-To: Subject: Date: User-Agent: Message-Id:
#
## include message in reply
set include=yes
## don't mark messages as old if i haven't read them
unset mark_old

## i don't like the annoying + markers at the beginning of wrapped lines
unset markers

## show message index while reading messages
set pager_index_lines=6
set pager_context=3
set pager_stop=yes

## don't ask when appending message to an existing folder
# unset confirmappend
# view annoying html mail inline
# auto_view text/html
# if plain text and html prefer plain text
# alternative_order text/plain text/enriched text/html

## Debian stuff

bind pager	"G" bottom
bind index	"G" last-entry
bind browser	"G" last-entry
# emacs-like bindings

# map delete-char to a sane value
bind editor     <delete>  delete-char

# don't add the hostname to the From header
unset use_domain

# Specifies how to sort messages in the index menu.
set sort=threads

# Postfix and qmail use Delivered-To for detecting loops
unset bounce_delivered

# imitate the old search-body function
macro index \eb '/~b ' 'search in message bodies'

# simulate the old url menu
macro index \cb |urlview\n 'call urlview to extract URLs out of a message'
macro pager \cb |urlview\n 'call urlview to extract URLs out of a message'

# Show documentation when pressing F1
macro generic <f1> "!zcat /usr/share/doc/mutt/manual.txt.gz | less\n" "Show Mutt documentation"
macro index   <f1> "!zcat /usr/share/doc/mutt/manual.txt.gz | less\n" "Show Mutt documentation"
macro pager   <f1> "!zcat /usr/share/doc/mutt/manual.txt.gz | less\n" "Show Mutt documentation"



# GnuPG configuration
set pgp_decode_command="/usr/local/bin/gpg   --status-fd=2 %?p?--passphrase-fd 0? --no-verbose --quiet  --batch  --output - %f"
set pgp_verify_command="/usr/local/bin/gpg   --status-fd=2 --no-verbose --quiet  --batch  --output - --verify %s %f"
set pgp_decrypt_command="/usr/local/bin/gpg   --status-fd=2 --passphrase-fd 0 --no-verbose --quiet  --batch  --output - %f"
set pgp_sign_command="/usr/local/bin/gpg    --no-verbose --batch --quiet   --output - --passphrase-fd 0 --armor --detach-sign --textmode %?a?-u %a? %f"
set pgp_clearsign_command="/usr/local/bin/gpg   --no-verbose --batch --quiet   --output - --passphrase-fd 0 --armor --textmode --clearsign %?a?-u %a? %f"
set pgp_encrypt_only_command="/usr/lib/mutt/pgpewrap /usr/local/bin/gpg    --batch  --quiet  --no-verbose --output - --encrypt --textmode --armor --always-trust -- -r %r -- %f"
set pgp_encrypt_sign_command="/usr/lib/mutt/pgpewrap /usr/local/bin/gpg  --passphrase-fd 0  --batch --quiet  --no-verbose  --textmode --output - --encrypt --sign %?a?-u %a? --armor --always-trust -- -r %r -- %f"
set pgp_import_command="/usr/local/bin/gpg  --no-verbose --import -v %f"
set pgp_export_command="/usr/local/bin/gpg   --no-verbose --export --armor %r"
set pgp_verify_key_command="/usr/local/bin/gpg   --verbose --batch  --fingerprint --check-sigs %r"
set pgp_list_pubring_command="/usr/local/bin/gpg   --no-verbose --batch --quiet   --with-colons --list-keys %r" 
set pgp_list_secring_command="/usr/local/bin/gpg   --no-verbose --batch --quiet   --with-colons --list-secret-keys %r" 
set pgp_good_sign="^\\[GNUPG:\\] VALIDSIG"

set mask="!^\\.[^.]"

macro index c "<change-folder>?<toggle-mailboxes>" "open a different folder"
macro pager c "<change-folder>?<toggle-mailboxes>" "open a different folder"

set quit = yes
set help = yes
set sleep_time = 0
set fast_reply = yes

set hdrs = yes
set edit_headers = yes
ignore *
unignore Date: From: Organization: To: Cc: Reply-To: Subject:

set followup_to = yes

set header_cache=~/.mutt/headercache
set message_cachedir=~/.mutt/messagecache

set mime_forward=yes

# colors!
source $HOME/.mutt/blackboard.colors

auto_view text/html
alternative_order text/plain text text/html
set query_command="lbdbq '%s'"
set alias_file=~/.mutt/aliases
source $alias_file
source ~/.mutt/subscriptions

set forward_format="FW: %s"
